{"ast":null,"code":"import _objectSpread from\"D:\\\\WorkingFolder\\\\LIMS\\\\ALPD\\\\branches\\\\Version 11.0.0.1\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"D:\\\\WorkingFolder\\\\LIMS\\\\ALPD\\\\branches\\\\Version 11.0.0.1\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"D:\\\\WorkingFolder\\\\LIMS\\\\ALPD\\\\branches\\\\Version 11.0.0.1\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"D:\\\\WorkingFolder\\\\LIMS\\\\ALPD\\\\branches\\\\Version 11.0.0.1\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"D:\\\\WorkingFolder\\\\LIMS\\\\ALPD\\\\branches\\\\Version 11.0.0.1\\\\QuaLISWeb\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";/* eslint-disable no-undef */import React from'react';import{connect}from'react-redux';import{injectIntl}from'react-intl';import FormInput from'../form-input/form-input.component';import CustomButtom from'../custom-button/custom-button.component';import{changeLanguage,getLoginDetails,getUserSiteAndRole,updateStore,createPassword,validateADSPassword,changepassword,getUsersiteRole,checkPassword}from'../../actions';import CreatePassword from'../../pages/Login/CreatePassWord';import CreateADSPassword from'../../pages/Login/CreateADSPassWord';import{clickOnLoginButton}from'../../actions';import{toast}from'react-toastify';import FormSelectSearch from'../form-select-search/form-select-search.component';import{validateLoginId}from'../CommonScript';import SlideOutModal from'../slide-out-modal/SlideOutModal';import{DEFAULT_RETURN}from'../../actions/LoginTypes';import ChangePassword from'../../pages/Login/ChangePassWord';import{changePasswordValidation,fnPassMessage,fnValidatePassword}from'../../pages/Login/LoginCommonFunction';import{LOGINTYPE,transactionStatus}from'../Enumeration';import{Form}from'react-bootstrap';import{loadCaptchaEnginge,LoadCanvasTemplate,validateCaptcha}from'react-simple-captcha';var mapStateToProps=function mapStateToProps(state){return{Login:state.Login};};var SignIn=/*#__PURE__*/function(_React$Component){_inherits(SignIn,_React$Component);var _super=_createSuper(SignIn);function SignIn(props){var _this;_classCallCheck(this,SignIn);_this=_super.call(this,props);_this.closeModal=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{openCPModal:false}};_this.props.updateStore(updateInfo);};_this.closeADSModal=function(){var updateInfo={typeName:DEFAULT_RETURN,data:{openADSModal:false}};_this.props.updateStore(updateInfo);};_this.onCreatePassWord=function(){var selectedRecord=_this.state.selectedRecord;var createPwdRecord=_this.state.createPwdRecord;var snewpassword=createPwdRecord.snewpassword.trim();var sconfirmpassword=createPwdRecord.sconfirmpassword.trim();if(selectedRecord.sloginid===snewpassword){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PASSWORDSHOULDNOTSAMEASLOGINID\"}));}else if(sconfirmpassword!==snewpassword){toast.warn(_this.props.intl.formatMessage({id:\"IDS_PASSWORDNOTMATCHED\"}));}else{// Added by Ragul.C for Double alert shows for Invaliduser\n//selectedRecord[\"nusermultirolecode\"]=this.props.Login.nusermultirolecode;\nselectedRecord[\"nusermultirolecode\"]=_this.state.selectedRecord.nusermultirolecode!==undefined&&_this.state.selectedRecord.nusermultirolecode!==\"\"?_this.state.selectedRecord.nusermultirolecode:_this.props.Login.nusermultirolecode;selectedRecord[\"nusersitecode\"]=_this.state.selectedRecord.nusersitecode!==undefined&&_this.state.selectedRecord.nusersitecode!==\"\"?_this.state.selectedRecord.nusersitecode:_this.props.Login.nusersitecode;// selectedRecord[\"nusersitecode\"]=this.props.Login.nusersitecode;\nselectedRecord[\"nusercode\"]=_this.props.Login.nusercode;selectedRecord[\"nlogintypecode\"]=_this.props.Login.nlogintypecode;selectedRecord[\"nlanguagecode\"]=_this.props.Login.nlanguagecode;_this.setState({selectedRecord:selectedRecord});// \nvar returnString=fnValidatePassword(_this.props.Login.passwordPolicy,snewpassword);if(returnString===0){var inputParam={spassword:snewpassword,nusersitecode:selectedRecord.nusersitecode.value,nusermultirolecode:selectedRecord.nusermultirolecode.value};_this.props.createPassword(inputParam);}else{toast.info(returnString);}}};_this.onCreateADSPassWord=function(){var selectedRecord=_objectSpread({},_this.state.selectedRecord);var createPwdRecord=_this.state.createPwdRecord;var sadspassword=createPwdRecord.sadspassword&&createPwdRecord.sadspassword.trim();var inputParam={spassword:sadspassword,sloginid:selectedRecord.sloginid,slanguagefilename:_this.props.Login.nlanguagecode&&_this.props.Login.nlanguagecode.item&&_this.props.Login.nlanguagecode.item.sfilename,selectedRecord:selectedRecord,nlogintypecode:_this.props.Login.userInfo&&_this.props.Login.userInfo.nlogintypecode||LOGINTYPE.ADS};_this.props.validateADSPassword(inputParam);};_this.onChangePassword=function(){var selectedRecord=_this.state.selectedRecord;var createPwdRecord=_this.state.createPwdRecord;var returnMsg=changePasswordValidation(createPwdRecord,_this.props.Login.passwordPolicy,_this.state.selectedRecord.sloginid);if(returnMsg===0){var inputParam={spassword:createPwdRecord.snewpassword.trim(),sOldPassword:createPwdRecord.soldpassword.trim(),nusersitecode:selectedRecord.nusersitecode.value,isPasswordExpiry:true,userInfo:_objectSpread(_objectSpread({},_this.props.Login.userInfo),{},{slanguagefilename:selectedRecord.nlanguagecode.item.sfilename,sloginid:selectedRecord.sloginid,suserrolename:selectedRecord.nusermultirolecode.label}),slanguagetypecode:selectedRecord.nlanguagecode.item.slanguagetypecode};_this.props.changepassword(inputParam);}else{toast.info(returnMsg);}};_this.onSelectChange=function(ComboVal,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=ComboVal;if(fieldName===\"nlogintypecode\"&&ComboVal.value===LOGINTYPE.INTERNAL&&selectedRecord.sloginid&&selectedRecord.sloginid!==\"\"&&selectedRecord.nusermultirolecode&&selectedRecord.nusermultirolecode!==\"\"&&selectedRecord.nusersitecode&&selectedRecord.nusersitecode!==\"\"){var inputParam={sloginid:_this.state.selectedRecord.sloginid,Language:selectedRecord.nlanguagecode.item,nusermultisitecode:selectedRecord.nusersitecode.value,nusermultirolecode:selectedRecord.nusermultirolecode.value,nuserrolecode:selectedRecord.nusermultirolecode.item.nuserrolecode,nlogintypecode:ComboVal.value};_this.props.checkPassword(inputParam,selectedRecord);}else{_this.setState({selectedRecord:selectedRecord});}};_this.onChangeLanguage=function(ComboVal,fieldName){var selectedRecord=_this.state.selectedRecord||{};selectedRecord[fieldName]=ComboVal;_this.props.changeLanguage(ComboVal.item.slanguagetypecode,selectedRecord,_this.props.Login.loginTypes);};_this.onLoginEvent=function(event){if(event.keyCode===13){var inputValue=event.target.value;_this.setState({show:_this.props.Login.open});if(inputValue!==\"\"){_this.onLoginSubmit(inputValue);}}};_this.AutoLogin=function(event){if(event.keyCode===118){var nlogintypecode=1;var inputParam={nusermultisitecode:parseInt(-1),nusermultirolecode:parseInt(-1),slanguagetypecode:\"en-US\",spassword:\"123\",nusercode:-1,nlogintypecode:1,nuserrolecode:-1,url:nlogintypecode===1?\"/login/internallogin\":\"/login/adslogin\",navigation:\"home\",nsitecode:-1,languageList:_this.props.Login.languageList};_this.setState({nusermultisitecode:parseInt(-1),nusermultirolecode:parseInt(-1),slanguagetypecode:1,spassword:\"123\",nusercode:-1,nlogintypecode:1,nuserrolecode:-1});_this.props.clickOnLoginButton(inputParam,_this.props.Login.languageList);}};_this.state={PasswordPolicy:{},selectedRecord:{},captchaKey:false//Added for sonia on 16th June 2025 for jira id:ALPD-6028 (Captcha Validation)\n};_this.loginRef=React.createRef();return _this;}_createClass(SignIn,[{key:\"render\",value:function render(){var _this2=this;var _this$props$Login=this.props.Login,loginTypeList=_this$props$Login.loginTypeList,languageList=_this$props$Login.languageList,loginUserSite=_this$props$Login.loginUserSite,_this$props$Login$cou=_this$props$Login.count,count=_this$props$Login$cou===void 0?0:_this$props$Login$cou,loginUserRole=_this$props$Login.loginUserRole;return/*#__PURE__*/React.createElement(Form,{ref:this.loginRef},/*#__PURE__*/React.createElement(FormInput,{name:\"sloginid\",label:this.props.intl.formatMessage({id:\"IDS_LOGINID\"}),type:\"text\"// placeholder={this.props.intl.formatMessage({ id: \"IDS_LOGINID\" })}\n,required:true,isMandatory:\"*\",onChange:function onChange(event){return _this2.onLoginInputChange(event);},onBlur:function onBlur(event){return _this2.onFocusOutEvent(event);}//ALPD-1926\n// onKeyUp={this.AutoLogin} \n,value:this.state.selectedRecord.sloginid}),/*#__PURE__*/React.createElement(FormInput,{name:\"spassword\",label:this.props.intl.formatMessage({id:\"IDS_PASSWORD\"}),type:\"password\",required:true,isMandatory:\"*\"// placeholder={this.props.intl.formatMessage({ id: \"IDS_PASSWORD\" })}\n,onChange:function onChange(event){return _this2.selectInputOnChange(event);},onKeyUp:this.onLoginEvent,value:this.state.selectedRecord.spassword}),loginUserSite!==undefined&&loginUserSite.length>1?/*#__PURE__*/React.createElement(FormSelectSearch,{name:\"nusersitecode\",formLabel:this.props.intl.formatMessage({id:\"IDS_SITE\"}),isSearchable:false,isDisabled:false,placeholder:this.props.intl.formatMessage({id:\"IDS_SELECTRECORD\"}),isMandatory:true,options:loginUserSite||[],optionId:\"nusersitecode\",optionValue:\"ssitename\",value:this.state.selectedRecord.nusersitecode?this.state.selectedRecord.nusersitecode:\"\",onChange:function onChange(value){return _this2.onUsersiteChange(value,\"nusersitecode\");}}):\"\",/*#__PURE__*/React.createElement(FormSelectSearch,{name:\"nusermultirolecode\",formLabel:this.props.intl.formatMessage({id:\"IDS_USERROLE\"}),isSearchable:false,isDisabled:false,placeholder:this.props.intl.formatMessage({id:\"IDS_SELECTRECORD\"}),isMandatory:true,options:loginUserRole||[],optionId:\"nusermultirolecode\",optionValue:\"suserrolename\",value:this.state.selectedRecord.nusermultirolecode?this.state.selectedRecord.nusermultirolecode:\"\",onChange:function onChange(value){return _this2.onSelectChange(value,\"nusermultirolecode\");}}),loginTypeList!==undefined&&loginTypeList.length>1?/*#__PURE__*/React.createElement(FormSelectSearch,{name:\"nlogintypecode\",formLabel:this.props.intl.formatMessage({id:\"IDS_LOGINTYPE\"}),isSearchable:false,isDisabled:false,placeholder:this.props.intl.formatMessage({id:\"IDS_SELECTRECORD\"}),isMandatory:true,options:loginTypeList||[],optionId:\"nlogintypecode\",optionValue:\"sdisplayname\",value:this.state.selectedRecord.nlogintypecode?this.state.selectedRecord.nlogintypecode:\"\",onChange:function onChange(value){return _this2.onSelectChange(value,\"nlogintypecode\");}}):\"\",languageList!==undefined&&languageList.length>1?/*#__PURE__*/React.createElement(FormSelectSearch,{name:\"nlanguagecode\",formLabel:this.props.intl.formatMessage({id:\"IDS_LANGUAGE\"}),isSearchable:false,isDisabled:false,placeholder:this.props.intl.formatMessage({id:\"IDS_SELECTRECORD\"}),isMandatory:true,options:languageList||[],optionId:\"nlanguagecode\",optionValue:\"slanguagename\",value:this.state.selectedRecord.nlanguagecode?this.state.selectedRecord.nlanguagecode:\"\",onChange:function onChange(value){return _this2.onChangeLanguage(value,\"nlanguagecode\");}}):\"\",parseInt(this.props.Login.captchaNeeded)===transactionStatus.YES?/*#__PURE__*/React.createElement(\"div\",{className:\"canvas\"},/*#__PURE__*/React.createElement(LoadCanvasTemplate,null),/*#__PURE__*/React.createElement(\"div\",{style:{position:'absolute',top:'15px',right:'25px',width:'100%',height:'2px',backgroundColor:'black',transform:'translateY(-50%)',pointerEvents:'none',maxWidth:\"150px\"}}),/*#__PURE__*/React.createElement(FormInput,{name:\"scaptcha\",label:this.props.intl.formatMessage({id:\"IDS_CAPTCHA\"}),type:\"text\",required:true,isMandatory:\"*\",onChange:function onChange(event){return _this2.onLoginInputChange(event);},value:this.state.selectedRecord.scaptcha,style:{marginTop:\"15px\",maxWidth:\"310px\"}})):\"\",/*#__PURE__*/React.createElement(CustomButtom,{name:\"loginbutton\",label:this.props.intl.formatMessage({id:\"IDS_LOGIN\"}),color:\"primary\",className:\"btn-user btn-primary-blue\",handleClick:function handleClick(){return _this2.onLoginSubmit();}}),this.props.Login.openCPModal&&this.props.Login.userInfo.nlogintypecode===LOGINTYPE.INTERNAL&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openCPModal,closeModal:this.closeModal,loginoperation:true,inputParam:{},screenName:this.props.Login.screenName,onSaveClick:this.props.Login.PassFlag===6?this.onCreatePassWord:this.onChangePassword,selectedRecord:this.state.createPwdRecord||{},mandatoryFields:this.mandatoryFieldFunction(this.props.Login.PassFlag),addComponent:this.props.Login.PassFlag===6?/*#__PURE__*/React.createElement(CreatePassword,{sloginid:this.state.selectedRecord.sloginid,createPwdRecord:this.state.createPwdRecord,msg:fnPassMessage(this.props.Login.passwordPolicy),onInputChange:function onInputChange(event){return _this2.onInputChange(event);}}):this.props.Login.PassFlag===transactionStatus.EXPIRED?/*#__PURE__*/React.createElement(ChangePassword,{sloginid:this.state.selectedRecord.sloginid,createPwdRecord:this.state.createPwdRecord,msg:fnPassMessage(this.props.Login.passwordPolicy),onInputChange:function onInputChange(event){return _this2.onInputChange(event);}}):\"\"}),this.props.Login.openADSModal&&this.props.Login.userInfo.nlogintypecode===LOGINTYPE.ADS&&/*#__PURE__*/React.createElement(SlideOutModal,{show:this.props.Login.openADSModal,closeModal:this.closeADSModal,loginoperation:true,inputParam:{},screenName:this.props.Login.screenName,onSaveClick:this.onCreateADSPassWord,selectedRecord:this.state.createPwdRecord||{},mandatoryFields:this.mandatoryFieldFunction(\"ADS\"),addComponent:/*#__PURE__*/React.createElement(CreateADSPassword,{sloginid:this.state.selectedRecord.sloginid,createPwdRecord:this.state.createPwdRecord,onInputChange:function onInputChange(event){return _this2.onInputChange(event);}})}));}},{key:\"onUsersiteChange\",value:function onUsersiteChange(ComboVal,fieldName){var selectedRecord=this.state.selectedRecord||{};selectedRecord[fieldName]=ComboVal;var inputParam={selectedRecord:selectedRecord};this.props.getUsersiteRole(inputParam);}},{key:\"componentDidMount\",value:function componentDidMount(){this.loginRef.current[0].focus();this.props.getLoginDetails();}},{key:\"mandatoryFieldFunction\",value:function mandatoryFieldFunction(passFlag){var mandatoryField=[];if(passFlag===6){mandatoryField=[{\"idsName\":\"IDS_NEWPASSWORD\",\"dataField\":\"snewpassword\",\"mandatory\":false},{\"idsName\":\"IDS_CONFIRMPASSWORD\",\"dataField\":\"sconfirmpassword\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];}else if(passFlag===\"ADS\"){mandatoryField=[{\"idsName\":\"IDS_ADSPASSWORD\",\"dataField\":\"sadspassword\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];}else{mandatoryField=[{\"idsName\":\"IDS_OLDPASSWORD\",\"dataField\":\"soldpassword\",\"mandatory\":false},{\"idsName\":\"IDS_NEWPASSWORD\",\"dataField\":\"snewpassword\",\"mandatory\":false},{\"idsName\":\"IDS_CONFIRMPASSWORD\",\"dataField\":\"sconfirmpassword\",\"mandatory\":true,\"mandatoryLabel\":\"IDS_ENTER\",\"controlType\":\"textbox\"}];}return mandatoryField;}},{key:\"onLoginInputChange\",value:function onLoginInputChange(event){// Gowtham R -- 14/12/2024 -- for Vacuum ALPD-5190\nif(this.state.selectedRecord.nlanguagecode===undefined&&event.target.value!==\"\")this.props.getLoginDetails();var selectedRecord=this.state.selectedRecord||{};var loginid=validateLoginId(event.target.value);if(loginid){selectedRecord[event.target.name]=event.target.value;}else{selectedRecord[event.target.name]=this.state.selectedRecord[event.target.name]?this.state.selectedRecord[event.target.name]:\"\";}this.setState({selectedRecord:selectedRecord});}},{key:\"selectInputOnChange\",value:function selectInputOnChange(event){var selectedRecord=this.state.selectedRecord||{};selectedRecord[event.target.name]=event.target.value;this.setState({selectedRecord:selectedRecord});}},{key:\"onInputChange\",value:function onInputChange(event){var createPwdRecord=this.state.createPwdRecord||{};createPwdRecord[event.target.name]=event.target.value;this.setState({createPwdRecord:createPwdRecord});}},{key:\"onFocusOutEvent\",value:function onFocusOutEvent(event){// event.stopPropagation();\n//  Added by Ragul.C for Double alert shows for Invaliduser\nif(event.target.name===\"sloginid\"){event.stopPropagation();}var sloginid=event.target.value;if(sloginid!==\"\"){var selectedRecord=this.state.selectedRecord||{};var inputParam={sloginid:sloginid,Language:selectedRecord.nlanguagecode&&selectedRecord.nlanguagecode.item,logintype:this.props.Login.loginTypeList,nlogintypecode:selectedRecord.nlogintypecode&&selectedRecord.nlogintypecode.value||-1};this.props.getUserSiteAndRole(inputParam,selectedRecord);}}},{key:\"onLoginSubmit\",value:function onLoginSubmit(){var _this3=this;var selectedRecord=this.state.selectedRecord;var mandatoryField=[{\"idsName\":\"IDS_LOGINID\",\"dataField\":\"sloginid\",\"mandatory\":false},{\"idsName\":\"IDS_PASSWORD\",\"dataField\":\"spassword\",\"mandatory\":true},//Don't Remove the Commented line commented for NIBSC\n{\"idsName\":\"IDS_SITE\",\"dataField\":\"nusersitecode\",\"mandatory\":true},{\"idsName\":\"IDS_ROLE\",\"dataField\":\"nusermultirolecode\",\"mandatory\":true},{\"idsName\":\"IDS_LOGINTYPE\",\"dataField\":\"nlogintypecode\",\"mandatory\":true},//Don't Remove the Commented line commented for NIBSC\n{\"idsName\":\"IDS_LANGUAGE\",\"dataField\":\"nlanguagecode\",\"mandatory\":true}];//Added for sonia on 16th June 2025 for jira id:ALPD-6028 (Captcha Validation)         \nif(parseInt(this.props.Login.captchaNeeded)===transactionStatus.YES){mandatoryField.push({idsName:\"IDS_CAPTCHA\",dataField:\"scaptcha\",mandatory:true});}var failedControls=[];mandatoryField.map(function(item){if(selectedRecord[item.dataField]===undefined){failedControls.push(_this3.props.intl.formatMessage({id:item.idsName}));}else if(typeof selectedRecord[item.dataField]===\"object\"){//to validate FormSelectSearch component\nif(selectedRecord[item.dataField].length===0){failedControls.push(_this3.props.intl.formatMessage({id:item.idsName}));}}else if(typeof selectedRecord[item.dataField]===\"string\"){//to handle string field -- added trim function\nif(selectedRecord[item.dataField].trim().length===0){failedControls.push(_this3.props.intl.formatMessage({id:item.idsName}));}}return null;});if(failedControls.length===0){var nlogintypecode=selectedRecord.nlogintypecode.value;if(selectedRecord.nusercode===-1){nlogintypecode=LOGINTYPE.INTERNAL;}//Added for sonia on 16th June 2025 for jira id:ALPD-6028 (Captcha Validation)\nif(parseInt(this.props.Login.captchaNeeded)===transactionStatus.YES){var userCaptcha=this.state.selectedRecord.scaptcha;if(validateCaptcha(userCaptcha)!==true){toast.warn(this.props.intl.formatMessage({id:\"IDS_INVALIDCAPTCHA\"}));//6 numberOfCharacters, backgroundColor = '#D3D3D3', fontColor = '#000000', charMap = 'upper/lower/numbers'\nloadCaptchaEnginge(6,'#D3D3D3');}else{var inputParam={nusermultisitecode:selectedRecord.nusersitecode.value,nusermultirolecode:selectedRecord.nusermultirolecode.value,slanguagetypecode:selectedRecord.nlanguagecode.item.slanguagetypecode,slanguagefilename:selectedRecord.nlanguagecode.item.sfilename,spassword:selectedRecord.spassword,// nusercode: selectedRecord.nusercode,\nnusercode:selectedRecord.nusercode?selectedRecord.nusercode:this.props.Login.nusercode,nuserrolecode:selectedRecord.nusermultirolecode.item.nuserrolecode,sloginid:selectedRecord.sloginid,nlogintypecode:nlogintypecode,//nlogintypecode: 1,\nurl:nlogintypecode===1?\"/login/internallogin\":\"/login/adsLogin\",// url: \"/login/internallogin\" ,\nnavigation:\"home\",languageList:this.props.Login.languageList,nsitecode:selectedRecord.nusersitecode.item.nsitecode};this.props.clickOnLoginButton(inputParam,this.props.Login.languageList);}}else{var _inputParam={nusermultisitecode:selectedRecord.nusersitecode.value,nusermultirolecode:selectedRecord.nusermultirolecode.value,slanguagetypecode:selectedRecord.nlanguagecode.item.slanguagetypecode,slanguagefilename:selectedRecord.nlanguagecode.item.sfilename,spassword:selectedRecord.spassword,// nusercode: selectedRecord.nusercode,\nnusercode:selectedRecord.nusercode?selectedRecord.nusercode:this.props.Login.nusercode,nuserrolecode:selectedRecord.nusermultirolecode.item.nuserrolecode,sloginid:selectedRecord.sloginid,nlogintypecode:nlogintypecode,//nlogintypecode: 1,\nurl:nlogintypecode===1?\"/login/internallogin\":\"/login/adsLogin\",// url: \"/login/internallogin\" ,\nnavigation:\"home\",languageList:this.props.Login.languageList,nsitecode:selectedRecord.nusersitecode.item.nsitecode};this.props.clickOnLoginButton(_inputParam,this.props.Login.languageList);}}else{toast.info(\"\".concat(this.props.intl.formatMessage({id:\"IDS_ENTER\"}),\" \").concat(failedControls[0]));}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(previousProps){if(this.props.Login.navigation===\"home\"||this.props.Login.navigation===\"dashboard\"||this.props.Login.navigation===\"alert\"){this.props.history.push('/'+this.props.Login.navigation);}//Added for sonia on 16th June 2025 for jira id:ALPD-6028 (Captcha Validation)\nif(!this.state.captchaKey&&parseInt(this.props.Login.captchaNeeded)===transactionStatus.YES){//6 numberOfCharacters, backgroundColor = '#D3D3D3', fontColor = '#000000', charMap = 'upper/lower/numbers'\nloadCaptchaEnginge(6,'#D3D3D3');this.setState({captchaKey:true});}var selectedRecord=this.state.selectedRecord||{};var createPwdRecord=this.state.createPwdRecord||{};var isStateChanged=false;if(this.props.Login.selectedRecord!==previousProps.Login.selectedRecord){selectedRecord=_objectSpread(_objectSpread({},selectedRecord),this.props.Login.selectedRecord);// Gowtham --ALPD-5190\nisStateChanged=true;}if(this.props.Login.createPwdRecord!==previousProps.Login.createPwdRecord){createPwdRecord=this.props.Login.createPwdRecord;isStateChanged=true;}//     Added by Ragul.C for Double alert shows for Invaliduser\n//         if (this.props.Login !== previousProps.Login) {\n//           //  selectedRecord[\"nusermultirolecode\"]=this.props.Login.selectedRecord && this.props.Login.selectedRecord.nusermultirolecode;\n//             selectedRecord[\"nusermultirolecode\"]=this.props.Login.selectedRecord && this.props.Login.selectedRecord.nusermultirolecode !== undefined ?this.props.Login.selectedRecord.nusermultirolecode:this.props.Login.nusermultirolecode;\n//             //this.props.Login.nusermultirolecode;\n//             selectedRecord[\"nusersitecode\"]=this.state.selectedRecord.nusersitecode!==undefined?this.state.selectedRecord.nusersitecode:this.props.Login.nusersitecode;\n// //            selectedRecord[\"nusersitecode\"]=this.props.Login.nusersitecode;\n//             selectedRecord[\"nusercode\"]=this.props.Login.nusercode;\n//             selectedRecord[\"nlogintypecode\"]=this.props.Login.nlogintypecode;\n//             // selectedRecord[\"nlanguagecode\"]=this.props.Login.nlanguagecode;\n//             isStateChanged = true;\n//         }\nif(isStateChanged){this.setState({selectedRecord:selectedRecord,createPwdRecord:createPwdRecord});}}}]);return SignIn;}(React.Component);export default connect(mapStateToProps,{clickOnLoginButton:clickOnLoginButton,changeLanguage:changeLanguage,getLoginDetails:getLoginDetails,getUserSiteAndRole:getUserSiteAndRole,updateStore:updateStore,createPassword:createPassword,changepassword:changepassword,getUsersiteRole:getUsersiteRole,checkPassword:checkPassword,validateADSPassword:validateADSPassword})(injectIntl(SignIn));","map":{"version":3,"sources":["D:/WorkingFolder/LIMS/ALPD/branches/Version 11.0.0.1/QuaLISWeb/src/components/sign-in/sign-in.component.jsx"],"names":["React","connect","injectIntl","FormInput","CustomButtom","changeLanguage","getLoginDetails","getUserSiteAndRole","updateStore","createPassword","validateADSPassword","changepassword","getUsersiteRole","checkPassword","CreatePassword","CreateADSPassword","clickOnLoginButton","toast","FormSelectSearch","validateLoginId","SlideOutModal","DEFAULT_RETURN","ChangePassword","changePasswordValidation","fnPassMessage","fnValidatePassword","LOGINTYPE","transactionStatus","Form","loadCaptchaEnginge","LoadCanvasTemplate","validateCaptcha","mapStateToProps","state","Login","SignIn","props","closeModal","updateInfo","typeName","data","openCPModal","closeADSModal","openADSModal","onCreatePassWord","selectedRecord","createPwdRecord","snewpassword","trim","sconfirmpassword","sloginid","warn","intl","formatMessage","id","nusermultirolecode","undefined","nusersitecode","nusercode","nlogintypecode","nlanguagecode","setState","returnString","passwordPolicy","inputParam","spassword","value","info","onCreateADSPassWord","sadspassword","slanguagefilename","item","sfilename","userInfo","ADS","onChangePassword","returnMsg","sOldPassword","soldpassword","isPasswordExpiry","suserrolename","label","slanguagetypecode","onSelectChange","ComboVal","fieldName","INTERNAL","Language","nusermultisitecode","nuserrolecode","onChangeLanguage","loginTypes","onLoginEvent","event","keyCode","inputValue","target","show","open","onLoginSubmit","AutoLogin","parseInt","url","navigation","nsitecode","languageList","PasswordPolicy","captchaKey","loginRef","createRef","loginTypeList","loginUserSite","count","loginUserRole","onLoginInputChange","onFocusOutEvent","selectInputOnChange","length","onUsersiteChange","captchaNeeded","YES","position","top","right","width","height","backgroundColor","transform","pointerEvents","maxWidth","scaptcha","marginTop","screenName","PassFlag","mandatoryFieldFunction","onInputChange","EXPIRED","current","focus","passFlag","mandatoryField","loginid","name","stopPropagation","logintype","push","idsName","dataField","mandatory","failedControls","map","userCaptcha","previousProps","history","isStateChanged","Component"],"mappings":"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","sourcesContent":["/* eslint-disable no-undef */\r\nimport React from 'react';\r\nimport { connect } from 'react-redux';\r\nimport { injectIntl } from 'react-intl';\r\nimport FormInput from '../form-input/form-input.component';\r\nimport CustomButtom from '../custom-button/custom-button.component';\r\nimport { changeLanguage, getLoginDetails, getUserSiteAndRole, updateStore, createPassword,validateADSPassword, changepassword, getUsersiteRole, checkPassword } from '../../actions';\r\nimport CreatePassword from '../../pages/Login/CreatePassWord';\r\nimport CreateADSPassword from '../../pages/Login/CreateADSPassWord';\r\nimport { clickOnLoginButton } from '../../actions'\r\nimport { toast } from 'react-toastify';\r\nimport FormSelectSearch from '../form-select-search/form-select-search.component';\r\nimport { validateLoginId } from '../CommonScript';\r\nimport SlideOutModal from '../slide-out-modal/SlideOutModal';\r\nimport { DEFAULT_RETURN } from '../../actions/LoginTypes';\r\nimport ChangePassword from '../../pages/Login/ChangePassWord';\r\nimport { changePasswordValidation, fnPassMessage, fnValidatePassword } from '../../pages/Login/LoginCommonFunction';\r\nimport { LOGINTYPE, transactionStatus } from '../Enumeration'\r\nimport { Form } from 'react-bootstrap';\r\nimport { loadCaptchaEnginge, LoadCanvasTemplate, validateCaptcha } from 'react-simple-captcha';\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        Login: state.Login\r\n    }\r\n}\r\n\r\nclass SignIn extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            PasswordPolicy: {},\r\n            selectedRecord: {},\r\n            captchaKey:false, //Added for sonia on 16th June 2025 for jira id:ALPD-6028 (Captcha Validation)\r\n           \r\n        }\r\n        this.loginRef = React.createRef();\r\n    }\r\n\r\n    render() {       \r\n\r\n        const { loginTypeList, languageList, loginUserSite, count=0,\r\n             loginUserRole } = this.props.Login;\r\n\r\n              \r\n             \r\n        return (\r\n            <Form ref={this.loginRef}>\r\n                <FormInput\r\n                    name=\"sloginid\"\r\n                    label={this.props.intl.formatMessage({ id: \"IDS_LOGINID\" })}\r\n                    type=\"text\"\r\n                    // placeholder={this.props.intl.formatMessage({ id: \"IDS_LOGINID\" })}\r\n                    required={true}\r\n                    isMandatory={\"*\"}\r\n                    onChange={(event) => this.onLoginInputChange(event)}\r\n                    onBlur={(event) => this.onFocusOutEvent(event)}\r\n                    //ALPD-1926\r\n                    // onKeyUp={this.AutoLogin} \r\n                    value={this.state.selectedRecord.sloginid}\r\n                />\r\n                <FormInput\r\n                    name=\"spassword\"\r\n                    label={this.props.intl.formatMessage({ id: \"IDS_PASSWORD\" })}\r\n                    type=\"password\"\r\n                    required={true}\r\n                    isMandatory={\"*\"}\r\n                    // placeholder={this.props.intl.formatMessage({ id: \"IDS_PASSWORD\" })}\r\n                    onChange={(event) => this.selectInputOnChange(event)}\r\n                    onKeyUp={this.onLoginEvent}\r\n                    value={this.state.selectedRecord.spassword}\r\n                />\r\n                {/* Don't Remove the Commented line commented for NIBSC */}\r\n                { (loginUserSite !== undefined && loginUserSite.length > 1) ?\r\n                <FormSelectSearch\r\n                    name={\"nusersitecode\"}\r\n                    formLabel={this.props.intl.formatMessage({ id: \"IDS_SITE\" })}\r\n                    isSearchable={false}\r\n                    isDisabled={false}\r\n                    placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                    isMandatory={true}\r\n                    options={loginUserSite || []}\r\n                    optionId='nusersitecode'\r\n                    optionValue='ssitename'\r\n                    value={this.state.selectedRecord.nusersitecode ? this.state.selectedRecord.nusersitecode : \"\"}\r\n                    onChange={value => this.onUsersiteChange(value, \"nusersitecode\")}\r\n                >\r\n                </FormSelectSearch>:\"\"}\r\n                <FormSelectSearch\r\n                    name={\"nusermultirolecode\"}\r\n                    formLabel={this.props.intl.formatMessage({ id: \"IDS_USERROLE\" })}\r\n                    isSearchable={false}\r\n                    isDisabled={false}\r\n                    placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                    isMandatory={true}\r\n                    options={loginUserRole || []}\r\n                    optionId='nusermultirolecode'\r\n                    optionValue='suserrolename'\r\n                    value={this.state.selectedRecord.nusermultirolecode ? this.state.selectedRecord.nusermultirolecode : \"\"}\r\n                    onChange={value => this.onSelectChange(value, \"nusermultirolecode\")}\r\n                >\r\n                </FormSelectSearch>\r\n               {/* ALPD-3816 */}\r\n               { (loginTypeList !== undefined && loginTypeList.length > 1) ?\r\n                 <FormSelectSearch\r\n                    name={\"nlogintypecode\"}\r\n                    formLabel={this.props.intl.formatMessage({ id: \"IDS_LOGINTYPE\" })}\r\n                    isSearchable={false}\r\n                    isDisabled={false}\r\n                    placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                    isMandatory={true}\r\n                    options={loginTypeList || []}\r\n                    optionId='nlogintypecode'\r\n                    optionValue='sdisplayname'\r\n                    value={this.state.selectedRecord.nlogintypecode ? this.state.selectedRecord.nlogintypecode : \"\"}\r\n                    onChange={value => this.onSelectChange(value, \"nlogintypecode\")}\r\n                >\r\n                </FormSelectSearch> \r\n                : \"\"\r\n                } \r\n                {/* Don't Remove the Commented line commented for NIBSC */}\r\n                {/* ALPD-3816 */}\r\n                { (languageList !== undefined && languageList.length > 1) ?\r\n                <FormSelectSearch\r\n                    name={\"nlanguagecode\"}\r\n                    formLabel={this.props.intl.formatMessage({ id: \"IDS_LANGUAGE\" })}\r\n                    isSearchable={false}\r\n                    isDisabled={false}\r\n                    placeholder={this.props.intl.formatMessage({ id: \"IDS_SELECTRECORD\" })}\r\n                    isMandatory={true}\r\n                    options={languageList || []}\r\n                    optionId='nlanguagecode'\r\n                    optionValue='slanguagename'\r\n                    value={this.state.selectedRecord.nlanguagecode ? this.state.selectedRecord.nlanguagecode : \"\"}\r\n                    onChange={value => this.onChangeLanguage(value, \"nlanguagecode\")}\r\n                >\r\n                </FormSelectSearch> : \"\"\r\n                }\r\n                {/* Added for sonia on 16th June 2025 for jira id:ALPD-6028 (Captcha Validation) */}\r\n                {parseInt(this.props.Login.captchaNeeded)===transactionStatus.YES ? \r\n                    <div className='canvas'>                            \r\n                        <LoadCanvasTemplate />\r\n                        <div\r\n                            style={{\r\n                                position: 'absolute',\r\n                                top: '15px',\r\n                                right: '25px',\r\n                                width: '100%',\r\n                                height: '2px',\r\n                                backgroundColor: 'black',\r\n                                transform: 'translateY(-50%)',\r\n                                pointerEvents: 'none',\r\n                                maxWidth:\"150px\"\r\n                            }}\r\n                            ></div>\r\n\r\n                        <FormInput\r\n                            name=\"scaptcha\"\r\n                            label={this.props.intl.formatMessage({ id: \"IDS_CAPTCHA\" })}\r\n                            type=\"text\"\r\n                            required={true}\r\n                            isMandatory={\"*\"}\r\n                            onChange={(event) => this.onLoginInputChange(event)}                   \r\n                            value={this.state.selectedRecord.scaptcha}\r\n                            style={{marginTop:\"15px\", maxWidth:\"310px\"}}\r\n\r\n                        />\r\n                    </div>                        \r\n                :\"\"} \r\n                    \r\n               \r\n\r\n\r\n\r\n                <CustomButtom name=\"loginbutton\" label={this.props.intl.formatMessage({id:\"IDS_LOGIN\"})} color=\"primary\" className=\"btn-user btn-primary-blue\"\r\n                    handleClick={() => this.onLoginSubmit()}></CustomButtom>\r\n                { this.props.Login.openCPModal &&\r\n                    this.props.Login.userInfo.nlogintypecode === LOGINTYPE.INTERNAL &&\r\n                    <SlideOutModal\r\n                        show={this.props.Login.openCPModal}\r\n                        closeModal={this.closeModal}\r\n                        loginoperation={true}\r\n                        inputParam={{}}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.props.Login.PassFlag === 6 ? this.onCreatePassWord : this.onChangePassword}\r\n                        selectedRecord={this.state.createPwdRecord || {}}\r\n                        mandatoryFields={this.mandatoryFieldFunction(this.props.Login.PassFlag)}\r\n                        addComponent={this.props.Login.PassFlag === 6 ?\r\n                            <CreatePassword\r\n                                sloginid={this.state.selectedRecord.sloginid}\r\n                                createPwdRecord={this.state.createPwdRecord}\r\n                                msg={fnPassMessage(this.props.Login.passwordPolicy)}\r\n                                onInputChange={(event) => this.onInputChange(event)}\r\n                            /> : this.props.Login.PassFlag === transactionStatus.EXPIRED ?\r\n                                <ChangePassword\r\n                                    sloginid={this.state.selectedRecord.sloginid}\r\n                                    createPwdRecord={this.state.createPwdRecord}\r\n                                    msg={fnPassMessage(this.props.Login.passwordPolicy)}\r\n                                    onInputChange={(event) => this.onInputChange(event)}\r\n                                /> : \"\"\r\n                        }\r\n                    />}\r\n                     {/* Start ALPD-4393 17/06/2024 Abdul Gaffoor.A To validate ads password of login User and to get ads user details and update it */}\r\n                    { this.props.Login.openADSModal &&\r\n                    this.props.Login.userInfo.nlogintypecode === LOGINTYPE.ADS &&\r\n                    <SlideOutModal\r\n                        show={this.props.Login.openADSModal}\r\n                        closeModal={this.closeADSModal}\r\n                        loginoperation={true}\r\n                        inputParam={{}}\r\n                        screenName={this.props.Login.screenName}\r\n                        onSaveClick={this.onCreateADSPassWord}\r\n                        selectedRecord={this.state.createPwdRecord || {}}\r\n                        mandatoryFields={this.mandatoryFieldFunction(\"ADS\")}\r\n                        addComponent={\r\n                            <CreateADSPassword\r\n                                sloginid={this.state.selectedRecord.sloginid}\r\n                                createPwdRecord={this.state.createPwdRecord}\r\n                                onInputChange={(event) => this.onInputChange(event)}\r\n                            /> \r\n                        }\r\n                    />}\r\n                    {/*End  ALPD-4393 17/06/2024 Abdul Gaffoor.A To validate ads password of login User and to get ads user details and update it */}\r\n            </Form>\r\n        );\r\n    }\r\n\r\n\r\n    onUsersiteChange(ComboVal, fieldName) {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = ComboVal;\r\n        const inputParam = {\r\n            selectedRecord\r\n        };\r\n        this.props.getUsersiteRole(inputParam);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loginRef.current[0].focus();\r\n        this.props.getLoginDetails();            \r\n    }\r\n\r\n    mandatoryFieldFunction(passFlag) {\r\n        let mandatoryField = [];\r\n        if (passFlag === 6) {\r\n            mandatoryField = [\r\n                { \"idsName\": \"IDS_NEWPASSWORD\", \"dataField\": \"snewpassword\", \"mandatory\": false },\r\n                { \"idsName\": \"IDS_CONFIRMPASSWORD\", \"dataField\": \"sconfirmpassword\", \"mandatory\": true , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"}\r\n            ]\r\n        } else if (passFlag === \"ADS\") {\r\n            mandatoryField = [\r\n            { \"idsName\": \"IDS_ADSPASSWORD\", \"dataField\": \"sadspassword\", \"mandatory\": true, \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"},\r\n            ]\r\n        }\r\n        else {\r\n            mandatoryField = [\r\n                { \"idsName\": \"IDS_OLDPASSWORD\", \"dataField\": \"soldpassword\", \"mandatory\": false},\r\n                { \"idsName\": \"IDS_NEWPASSWORD\", \"dataField\": \"snewpassword\", \"mandatory\": false },\r\n                { \"idsName\": \"IDS_CONFIRMPASSWORD\", \"dataField\": \"sconfirmpassword\", \"mandatory\": true , \"mandatoryLabel\":\"IDS_ENTER\", \"controlType\": \"textbox\"}\r\n            ]\r\n        }\r\n        return mandatoryField;\r\n    }\r\n\r\n    closeModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openCPModal: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n//Start\tALPD-4393 17/06/2024 Abdul Gaffoor.A To validate ads password of login User and to get ads user details and update it\r\n    closeADSModal = () => {\r\n        const updateInfo = {\r\n            typeName: DEFAULT_RETURN,\r\n            data: { openADSModal: false }\r\n        }\r\n        this.props.updateStore(updateInfo);\r\n    }\r\n//End\tALPD-4393 17/06/2024 Abdul Gaffoor.A To validate ads password of login User and to get ads user details and update it\r\n\r\n    onCreatePassWord = () => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const createPwdRecord = this.state.createPwdRecord;\r\n        const snewpassword = createPwdRecord.snewpassword.trim();\r\n        const sconfirmpassword = createPwdRecord.sconfirmpassword.trim();\r\n        if (selectedRecord.sloginid === snewpassword) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PASSWORDSHOULDNOTSAMEASLOGINID\" }));\r\n        } else if (sconfirmpassword !== snewpassword) {\r\n            toast.warn(this.props.intl.formatMessage({ id: \"IDS_PASSWORDNOTMATCHED\" }));\r\n        } else {\r\n\r\n// Added by Ragul.C for Double alert shows for Invaliduser\r\n            //selectedRecord[\"nusermultirolecode\"]=this.props.Login.nusermultirolecode;\r\n            selectedRecord[\"nusermultirolecode\"]=this.state.selectedRecord.nusermultirolecode!==undefined && this.state.selectedRecord.nusermultirolecode!==\"\" ?this.state.selectedRecord.nusermultirolecode:this.props.Login.nusermultirolecode;\r\n            selectedRecord[\"nusersitecode\"]=this.state.selectedRecord.nusersitecode!==undefined && this.state.selectedRecord.nusersitecode!==\"\" ?this.state.selectedRecord.nusersitecode:this.props.Login.nusersitecode;\r\n            // selectedRecord[\"nusersitecode\"]=this.props.Login.nusersitecode;\r\n            selectedRecord[\"nusercode\"]=this.props.Login.nusercode;\r\n            selectedRecord[\"nlogintypecode\"]=this.props.Login.nlogintypecode;\r\n            selectedRecord[\"nlanguagecode\"]=this.props.Login.nlanguagecode;\r\n            this.setState({ selectedRecord });\r\n// \r\n            const returnString = fnValidatePassword(this.props.Login.passwordPolicy, snewpassword)\r\n            if (returnString === 0) {\r\n                const inputParam = {\r\n                    spassword: snewpassword,\r\n                    nusersitecode: selectedRecord.nusersitecode.value,\r\n                    nusermultirolecode: selectedRecord.nusermultirolecode.value\r\n                };\r\n                this.props.createPassword(inputParam);\r\n            } else {\r\n                toast.info(returnString);\r\n            }\r\n        }\r\n    }\r\n\r\n    //Start\tALPD-4393 17/06/2024 Abdul Gaffoor.A To validate ads password of login User and to get ads user details and update it\r\n    onCreateADSPassWord = () => {\r\n        const selectedRecord = {...this.state.selectedRecord};\r\n        const createPwdRecord = this.state.createPwdRecord;\r\n        const sadspassword = createPwdRecord.sadspassword && createPwdRecord.sadspassword.trim();\r\n                const inputParam = {\r\n                    spassword: sadspassword,\r\n                    sloginid: selectedRecord.sloginid,\r\n                    slanguagefilename: this.props.Login.nlanguagecode && this.props.Login.nlanguagecode.item && this.props.Login.nlanguagecode.item.sfilename,\r\n                    selectedRecord: selectedRecord,\r\n                    nlogintypecode: (this.props.Login.userInfo && this.props.Login.userInfo.nlogintypecode) || LOGINTYPE.ADS,\r\n                };\r\n                this.props.validateADSPassword(inputParam);\r\n        \r\n    }\r\n    //End\tALPD-4393 17/06/2024 Abdul Gaffoor.A To validate ads password of login User and to get ads user details and update it\r\n\r\n\r\n    onChangePassword = () => {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const createPwdRecord = this.state.createPwdRecord;\r\n        const returnMsg = changePasswordValidation(createPwdRecord, this.props.Login.passwordPolicy, this.state.selectedRecord.sloginid);\r\n        if (returnMsg === 0) {\r\n            const inputParam = {\r\n                spassword: createPwdRecord.snewpassword.trim(),\r\n                sOldPassword: createPwdRecord.soldpassword.trim(),\r\n                nusersitecode: selectedRecord.nusersitecode.value,\r\n                isPasswordExpiry: true,\r\n                userInfo: { ...this.props.Login.userInfo, slanguagefilename: selectedRecord.nlanguagecode.item.sfilename,\r\n                            sloginid:selectedRecord.sloginid, suserrolename:selectedRecord.nusermultirolecode.label },\r\n                slanguagetypecode: selectedRecord.nlanguagecode.item.slanguagetypecode\r\n            };\r\n\r\n            this.props.changepassword(inputParam);\r\n        } else {\r\n            toast.info(returnMsg);\r\n        }\r\n    }\r\n\r\n    onLoginInputChange(event) {\r\n        // Gowtham R -- 14/12/2024 -- for Vacuum ALPD-5190\r\n        if(this.state.selectedRecord.nlanguagecode === undefined && event.target.value !== \"\")\r\n            this.props.getLoginDetails();\r\n\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        const loginid = validateLoginId(event.target.value);\r\n        if (loginid) {\r\n            selectedRecord[event.target.name] = event.target.value;\r\n        } else {\r\n            selectedRecord[event.target.name] = this.state.selectedRecord[event.target.name] ? this.state.selectedRecord[event.target.name] : \"\";\r\n        }\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    selectInputOnChange(event) {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[event.target.name] = event.target.value;\r\n        this.setState({ selectedRecord });\r\n    }\r\n\r\n    onInputChange(event) {\r\n        const createPwdRecord = this.state.createPwdRecord || {};\r\n        createPwdRecord[event.target.name] = event.target.value;\r\n        this.setState({ createPwdRecord });\r\n    }\r\n\r\n    onSelectChange = (ComboVal, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = ComboVal;\r\n        if (fieldName === \"nlogintypecode\" && ComboVal.value === LOGINTYPE.INTERNAL\r\n            && selectedRecord.sloginid && selectedRecord.sloginid !== \"\" \r\n            && selectedRecord.nusermultirolecode && selectedRecord.nusermultirolecode !== \"\"\r\n            && selectedRecord.nusersitecode && selectedRecord.nusersitecode !== \"\") {\r\n            const inputParam = {\r\n                sloginid: this.state.selectedRecord.sloginid,\r\n                Language: selectedRecord.nlanguagecode.item,\r\n                nusermultisitecode: selectedRecord.nusersitecode.value,\r\n                nusermultirolecode: selectedRecord.nusermultirolecode.value,\r\n                nuserrolecode: selectedRecord.nusermultirolecode.item.nuserrolecode,\r\n                nlogintypecode: ComboVal.value\r\n            };\r\n            this.props.checkPassword(inputParam, selectedRecord);\r\n        } else {\r\n            this.setState({ selectedRecord });\r\n        }\r\n    }\r\n\r\n    onChangeLanguage = (ComboVal, fieldName) => {\r\n        const selectedRecord = this.state.selectedRecord || {};\r\n        selectedRecord[fieldName] = ComboVal;\r\n        this.props.changeLanguage(ComboVal.item.slanguagetypecode, selectedRecord,this.props.Login.loginTypes);\r\n    }\r\n\r\n\r\n    onFocusOutEvent(event) {\r\n\r\n        // event.stopPropagation();\r\n      //  Added by Ragul.C for Double alert shows for Invaliduser\r\n        if(event.target.name === \"sloginid\"){ \r\n            \r\n            event.stopPropagation();\r\n        }\r\n        const sloginid = event.target.value;\r\n        if (sloginid !== \"\") {\r\n            const selectedRecord = this.state.selectedRecord || {};\r\n            const inputParam = {\r\n                sloginid, Language: selectedRecord.nlanguagecode && selectedRecord.nlanguagecode.item,\r\n                 logintype: this.props.Login.loginTypeList,\r\n                 nlogintypecode: selectedRecord.nlogintypecode && selectedRecord.nlogintypecode.value || -1,\r\n            };            \r\n            this.props.getUserSiteAndRole(inputParam, selectedRecord);\r\n        }       \r\n    }\r\n\r\n    onLoginEvent = (event) => {\r\n        if (event.keyCode === 13) {\r\n            const inputValue = event.target.value;\r\n            this.setState({\r\n                show: this.props.Login.open\r\n            })\r\n            if (inputValue !== \"\") {\r\n                this.onLoginSubmit(inputValue);\r\n            }\r\n        }\r\n    }\r\n    AutoLogin = (event) => {\r\n        if (event.keyCode === 118) {\r\n            let nlogintypecode = 1;\r\n            const inputParam = {\r\n                nusermultisitecode: parseInt(-1),\r\n                nusermultirolecode: parseInt(-1),\r\n                slanguagetypecode: \"en-US\",\r\n                spassword: \"123\",\r\n                nusercode: -1,\r\n                nlogintypecode: 1,\r\n                nuserrolecode: -1,\r\n                url: nlogintypecode === 1 ? \"/login/internallogin\" : \"/login/adslogin\",\r\n                navigation: \"home\",\r\n                nsitecode:-1,\r\n                languageList: this.props.Login.languageList\r\n            }\r\n            this.setState({\r\n                nusermultisitecode: parseInt(-1),\r\n                nusermultirolecode: parseInt(-1),\r\n                slanguagetypecode: 1,\r\n                spassword: \"123\",\r\n                nusercode: -1,\r\n                nlogintypecode: 1,\r\n                nuserrolecode: -1\r\n            })\r\n            this.props.clickOnLoginButton(inputParam,this.props.Login.languageList);\r\n        }\r\n    }\r\n    onLoginSubmit() {\r\n        const selectedRecord = this.state.selectedRecord;\r\n        const mandatoryField = [\r\n            { \"idsName\": \"IDS_LOGINID\", \"dataField\": \"sloginid\", \"mandatory\": false },\r\n            { \"idsName\": \"IDS_PASSWORD\", \"dataField\": \"spassword\", \"mandatory\": true },\r\n            //Don't Remove the Commented line commented for NIBSC\r\n            { \"idsName\": \"IDS_SITE\", \"dataField\": \"nusersitecode\", \"mandatory\": true },\r\n            { \"idsName\": \"IDS_ROLE\", \"dataField\": \"nusermultirolecode\", \"mandatory\": true },\r\n            { \"idsName\": \"IDS_LOGINTYPE\", \"dataField\": \"nlogintypecode\", \"mandatory\": true },\r\n            //Don't Remove the Commented line commented for NIBSC\r\n            { \"idsName\": \"IDS_LANGUAGE\", \"dataField\": \"nlanguagecode\", \"mandatory\": true }\r\n        ];  \r\n        //Added for sonia on 16th June 2025 for jira id:ALPD-6028 (Captcha Validation)         \r\n        if (parseInt(this.props.Login.captchaNeeded) === transactionStatus.YES) {\r\n            mandatoryField.push({  idsName: \"IDS_CAPTCHA\",  dataField: \"scaptcha\",  mandatory: true });\r\n        }\r\n            \r\n\r\n        \r\n        const failedControls = [];\r\n        mandatoryField.map(item => {\r\n            if (selectedRecord[item.dataField] === undefined) {\r\n                failedControls.push(this.props.intl.formatMessage({ id: item.idsName }));\r\n            } else if (typeof selectedRecord[item.dataField] === \"object\") {\r\n                //to validate FormSelectSearch component\r\n                if (selectedRecord[item.dataField].length === 0) {\r\n                    failedControls.push(this.props.intl.formatMessage({ id: item.idsName }));\r\n                }\r\n            } else if (typeof selectedRecord[item.dataField] === \"string\") {\r\n                //to handle string field -- added trim function\r\n                if (selectedRecord[item.dataField].trim().length === 0) {\r\n                    failedControls.push(this.props.intl.formatMessage({ id: item.idsName }));\r\n                }\r\n            }\r\n            return null;\r\n        });\r\n        if (failedControls.length === 0) {\r\n            let nlogintypecode = selectedRecord.nlogintypecode.value;\r\n            if (selectedRecord.nusercode === -1) {\r\n                nlogintypecode = LOGINTYPE.INTERNAL;\r\n            }\r\n            //Added for sonia on 16th June 2025 for jira id:ALPD-6028 (Captcha Validation)\r\n            if(parseInt(this.props.Login.captchaNeeded)=== transactionStatus.YES){\r\n                let userCaptcha = this.state.selectedRecord.scaptcha;\r\n                if(validateCaptcha(userCaptcha) !== true){\r\n                    toast.warn(this.props.intl.formatMessage({ id: \"IDS_INVALIDCAPTCHA\" })); \r\n                    //6 numberOfCharacters, backgroundColor = '#D3D3D3', fontColor = '#000000', charMap = 'upper/lower/numbers'\r\n                    loadCaptchaEnginge(6,'#D3D3D3');\r\n                }else{\r\n                    const inputParam = {\r\n                        nusermultisitecode: selectedRecord.nusersitecode.value,\r\n                        nusermultirolecode: selectedRecord.nusermultirolecode.value,\r\n                        slanguagetypecode: selectedRecord.nlanguagecode.item.slanguagetypecode,\r\n                        slanguagefilename: selectedRecord.nlanguagecode.item.sfilename,\r\n                        spassword: selectedRecord.spassword,\r\n                        // nusercode: selectedRecord.nusercode,\r\n                        nusercode: selectedRecord.nusercode ? selectedRecord.nusercode : this.props.Login.nusercode,\r\n                        nuserrolecode: selectedRecord.nusermultirolecode.item.nuserrolecode,\r\n                        sloginid: selectedRecord.sloginid,\r\n                        nlogintypecode: nlogintypecode,\r\n                        //nlogintypecode: 1,\r\n                        url: nlogintypecode === 1 ? \"/login/internallogin\" : \"/login/adsLogin\",\r\n                        // url: \"/login/internallogin\" ,\r\n                        navigation: \"home\",\r\n                        languageList: this.props.Login.languageList,\r\n                        nsitecode:selectedRecord.nusersitecode.item.nsitecode\r\n                    }\r\n                    this.props.clickOnLoginButton(inputParam,this.props.Login.languageList);    \r\n                }\r\n            }else{\r\n                const inputParam = {\r\n                        nusermultisitecode: selectedRecord.nusersitecode.value,\r\n                        nusermultirolecode: selectedRecord.nusermultirolecode.value,\r\n                        slanguagetypecode: selectedRecord.nlanguagecode.item.slanguagetypecode,\r\n                        slanguagefilename: selectedRecord.nlanguagecode.item.sfilename,\r\n                        spassword: selectedRecord.spassword,\r\n                        // nusercode: selectedRecord.nusercode,\r\n                        nusercode: selectedRecord.nusercode ? selectedRecord.nusercode : this.props.Login.nusercode,\r\n                        nuserrolecode: selectedRecord.nusermultirolecode.item.nuserrolecode,\r\n                        sloginid: selectedRecord.sloginid,\r\n                        nlogintypecode: nlogintypecode,\r\n                        //nlogintypecode: 1,\r\n                        url: nlogintypecode === 1 ? \"/login/internallogin\" : \"/login/adsLogin\",\r\n                        // url: \"/login/internallogin\" ,\r\n                        navigation: \"home\",\r\n                        languageList: this.props.Login.languageList,\r\n                        nsitecode:selectedRecord.nusersitecode.item.nsitecode\r\n                }\r\n                this.props.clickOnLoginButton(inputParam,this.props.Login.languageList);   \r\n            }\r\n           \r\n\r\n\r\n            \r\n        } else {\r\n            toast.info(`${this.props.intl.formatMessage({ id: \"IDS_ENTER\" })} ${failedControls[0]}`);\r\n        }\r\n    }\r\n\r\n    componentDidUpdate(previousProps) {\r\n        if (this.props.Login.navigation === \"home\"||this.props.Login.navigation === \"dashboard\"\r\n        ||this.props.Login.navigation === \"alert\") {\r\n            this.props.history.push('/'+this.props.Login.navigation);\r\n        }\r\n        \r\n        //Added for sonia on 16th June 2025 for jira id:ALPD-6028 (Captcha Validation)\r\n        if(!this.state.captchaKey && parseInt(this.props.Login.captchaNeeded) === transactionStatus.YES) {\r\n            //6 numberOfCharacters, backgroundColor = '#D3D3D3', fontColor = '#000000', charMap = 'upper/lower/numbers'\r\n            loadCaptchaEnginge(6,'#D3D3D3');\r\n            this.setState({captchaKey:true})\r\n       }\r\n        \r\n        let selectedRecord = this.state.selectedRecord || {};\r\n        let createPwdRecord = this.state.createPwdRecord || {};\r\n        let isStateChanged = false;\r\n        if (this.props.Login.selectedRecord !== previousProps.Login.selectedRecord) {\r\n           selectedRecord = { ...selectedRecord, ...this.props.Login.selectedRecord }; // Gowtham --ALPD-5190\r\n            isStateChanged = true;\r\n        }\r\n\r\n        if (this.props.Login.createPwdRecord !== previousProps.Login.createPwdRecord) {\r\n            createPwdRecord = this.props.Login.createPwdRecord;\r\n            isStateChanged = true;\r\n        }\r\n\r\n   //     Added by Ragul.C for Double alert shows for Invaliduser\r\n   \r\n//         if (this.props.Login !== previousProps.Login) {\r\n//           //  selectedRecord[\"nusermultirolecode\"]=this.props.Login.selectedRecord && this.props.Login.selectedRecord.nusermultirolecode;\r\n//             selectedRecord[\"nusermultirolecode\"]=this.props.Login.selectedRecord && this.props.Login.selectedRecord.nusermultirolecode !== undefined ?this.props.Login.selectedRecord.nusermultirolecode:this.props.Login.nusermultirolecode;\r\n//             //this.props.Login.nusermultirolecode;\r\n//             selectedRecord[\"nusersitecode\"]=this.state.selectedRecord.nusersitecode!==undefined?this.state.selectedRecord.nusersitecode:this.props.Login.nusersitecode;\r\n// //            selectedRecord[\"nusersitecode\"]=this.props.Login.nusersitecode;\r\n//             selectedRecord[\"nusercode\"]=this.props.Login.nusercode;\r\n//             selectedRecord[\"nlogintypecode\"]=this.props.Login.nlogintypecode;\r\n//             // selectedRecord[\"nlanguagecode\"]=this.props.Login.nlanguagecode;\r\n//             isStateChanged = true;\r\n//         }\r\n\r\n\r\n        if (isStateChanged) {\r\n            this.setState({ selectedRecord, createPwdRecord });\r\n        }\r\n    }\r\n\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    clickOnLoginButton, changeLanguage,\r\n    getLoginDetails, getUserSiteAndRole, updateStore, createPassword, changepassword, getUsersiteRole, checkPassword, validateADSPassword\r\n})(injectIntl(SignIn));\r\n"]},"metadata":{},"sourceType":"module"}